<!DOCTYPE html>
<html>
  <head>
    <title>convulator</title>
  </head>
  <body>
    <h1>Convert between hex, decimal and percentage</h1>
    <p>
      Hex1:<input id="hex1" type="text" />Hex2:<input id="hex2" type="text" />
      Hex3:<input id="hex3" type="text" /> Hex4:<input id="hex4" type="text" />
    </p>
    <p>
      Dec1:<input id="dec1" type="text" /> Dec2:<input id="dec2" type="text" />
      Dec3:<input id="dec3" type="text" /> Dec4:<input id="dec4" type="text" />
    </p>
    <p>
      Per1:<input id="per1" type="text" /> Per2:<input id="per2" type="text" />
      Per3:<input id="per3" type="text" /> Per4:<input id="per4" type="text" />
    </p>

    <script>
      document.querySelectorAll("input").forEach((input) =>
        input.addEventListener("input", function () {
          const t = input.id.slice(0, 3);
          const n = input.id.slice(3);
          const v = {
            hex: parseInt("0x" + input.value),
            dec: parseInt(input.value),
            per: parseInt(input.value) * 2.55,
          }[t];

          if (t != "hex") {
            document.getElementById("hex" + n).value = Math.round(v).toString(16,0);
          }
          if (t != "dec") {
            document.getElementById("dec" + n).value = v.toFixed(0);
          }
          if (t != "per") {
            document.getElementById("per" + n).value = (v / 2.55).toFixed(1);
          }

          // const v = {
          //   hex: () => parseInt("0x" + input.value),
          //   dec: () => parseInt(input.value),
          //   per: () => parseInt(input.value) * 2.55,
          // }[input.id.slice(0, 3)]();

          // ["hex", "dec", "per"]
          //   .filter((t) => t != input.id.slice(0, 3))
          //   .forEach(
          //     (i) =>
          //       (document.getElementById(i + input.id.slice(3)).value = {
          //         hex: () => Math.round(v).toString(16),
          //         dec: () => v.toFixed(0),
          //         per: () => (v / 2.55).toFixed(1),
          //       }[i]())
          //   );
        })
      );
    </script>
  </body>
</html>
